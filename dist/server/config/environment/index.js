/**
 * Created by Justin on 9/2/16.
 */
"use strict";
/// <reference path="../../interfaces/extensions/Node.d.ts" />
const Logger_1 = require('../../helpers/Logger');
// Require local config file if it exists, or create a replacement with `use` set to false
let localConfig = { use: false }, devConfig = require('./development'), testConfig = require('./test'), prodConfig = require('./production'), sharedConfig = require('./all'), _ = require('lodash');
const env = process.env.NODE_ENV || 'development';
if (env === 'development') {
    try {
        localConfig = require('./local');
    }
    catch (e) {
        Logger_1.$log.warn('No local config file found - using development config');
    }
}
// Export either local or development config if NODE_ENV === 'development', test config if NODE_ENV === 'test'
// or production config otherwise
let dynamic;
if (env === 'development') {
    dynamic = localConfig.use ? localConfig : devConfig;
}
else if (env === 'test') {
    dynamic = testConfig;
}
else {
    dynamic = prodConfig;
}
exports.CONFIG = _.merge(dynamic, sharedConfig);

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImNvbmZpZy9lbnZpcm9ubWVudC9pbmRleC50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTs7R0FFRzs7QUFFSCw4REFBOEQ7QUFFOUQseUJBQXFCLHNCQUNyQixDQUFDLENBRDBDO0FBRzNDLDBGQUEwRjtBQUMxRixJQUFJLFdBQVcsR0FBYyxFQUFFLEdBQUcsRUFBRSxLQUFLLEVBQUUsRUFDMUMsU0FBUyxHQUFjLE9BQU8sQ0FBQyxlQUFlLENBQUMsRUFDL0MsVUFBVSxHQUFjLE9BQU8sQ0FBQyxRQUFRLENBQUMsRUFDekMsVUFBVSxHQUFjLE9BQU8sQ0FBQyxjQUFjLENBQUMsRUFDL0MsWUFBWSxHQUFjLE9BQU8sQ0FBQyxPQUFPLENBQUMsRUFDMUMsQ0FBQyxHQUFHLE9BQU8sQ0FBQyxRQUFRLENBQUMsQ0FBQztBQUV2QixNQUFNLEdBQUcsR0FBVSxPQUFPLENBQUMsR0FBRyxDQUFDLFFBQVEsSUFBSSxhQUFhLENBQUM7QUFFekQsRUFBRSxDQUFDLENBQUMsR0FBRyxLQUFLLGFBQWEsQ0FBQyxDQUMxQixDQUFDO0lBQ0EsSUFDQSxDQUFDO1FBQ0EsV0FBVyxHQUFHLE9BQU8sQ0FBQyxTQUFTLENBQUMsQ0FBQztJQUNsQyxDQUNBO0lBQUEsS0FBSyxDQUFBLENBQUMsQ0FBQyxDQUFDLENBQ1IsQ0FBQztRQUNBLGFBQUksQ0FBQyxJQUFJLENBQUMsdURBQXVELENBQUMsQ0FBQztJQUNwRSxDQUFDO0FBQ0YsQ0FBQztBQUVELDhHQUE4RztBQUM5RyxpQ0FBaUM7QUFDakMsSUFBSSxPQUFrQixDQUFDO0FBRXZCLEVBQUUsQ0FBQyxDQUFDLEdBQUcsS0FBSyxhQUFhLENBQUMsQ0FDMUIsQ0FBQztJQUNBLE9BQU8sR0FBRyxXQUFXLENBQUMsR0FBRyxHQUFHLFdBQVcsR0FBRyxTQUFTLENBQUM7QUFDckQsQ0FBQztBQUNELElBQUksQ0FBQyxFQUFFLENBQUMsQ0FBQyxHQUFHLEtBQUssTUFBTSxDQUFDLENBQ3hCLENBQUM7SUFDQSxPQUFPLEdBQUcsVUFBVSxDQUFDO0FBQ3RCLENBQUM7QUFDRCxJQUFJLENBQ0osQ0FBQztJQUNBLE9BQU8sR0FBRyxVQUFVLENBQUM7QUFDdEIsQ0FBQztBQUVZLGNBQU0sR0FBZSxDQUFDLENBQUMsS0FBSyxDQUFDLE9BQU8sRUFBRSxZQUFZLENBQUMsQ0FBQyIsImZpbGUiOiJjb25maWcvZW52aXJvbm1lbnQvaW5kZXguanMiLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIENyZWF0ZWQgYnkgSnVzdGluIG9uIDkvMi8xNi5cbiAqL1xuXG4vLy8gPHJlZmVyZW5jZSBwYXRoPVwiLi4vLi4vaW50ZXJmYWNlcy9leHRlbnNpb25zL05vZGUuZC50c1wiIC8+XG5cbmltcG9ydCB7ICRsb2cgfSBmcm9tICcuLi8uLi9oZWxwZXJzL0xvZ2dlcidcbmltcG9ydCB7IElFbnZDb25maWcgfSBmcm9tICcuLi8uLi9pbnRlcmZhY2VzJ1xuXG4vLyBSZXF1aXJlIGxvY2FsIGNvbmZpZyBmaWxlIGlmIGl0IGV4aXN0cywgb3IgY3JlYXRlIGEgcmVwbGFjZW1lbnQgd2l0aCBgdXNlYCBzZXQgdG8gZmFsc2VcbmxldCBsb2NhbENvbmZpZzpJRW52Q29uZmlnID0geyB1c2U6IGZhbHNlIH0sXG5cdGRldkNvbmZpZzpJRW52Q29uZmlnID0gcmVxdWlyZSgnLi9kZXZlbG9wbWVudCcpLFxuXHR0ZXN0Q29uZmlnOklFbnZDb25maWcgPSByZXF1aXJlKCcuL3Rlc3QnKSxcblx0cHJvZENvbmZpZzpJRW52Q29uZmlnID0gcmVxdWlyZSgnLi9wcm9kdWN0aW9uJyksXG5cdHNoYXJlZENvbmZpZzpJRW52Q29uZmlnID0gcmVxdWlyZSgnLi9hbGwnKSxcblx0XyA9IHJlcXVpcmUoJ2xvZGFzaCcpO1xuXG5jb25zdCBlbnY6c3RyaW5nID0gcHJvY2Vzcy5lbnYuTk9ERV9FTlYgfHwgJ2RldmVsb3BtZW50JztcblxuaWYgKGVudiA9PT0gJ2RldmVsb3BtZW50Jylcbntcblx0dHJ5XG5cdHtcblx0XHRsb2NhbENvbmZpZyA9IHJlcXVpcmUoJy4vbG9jYWwnKTtcblx0fVxuXHRjYXRjaChlKVxuXHR7XG5cdFx0JGxvZy53YXJuKCdObyBsb2NhbCBjb25maWcgZmlsZSBmb3VuZCAtIHVzaW5nIGRldmVsb3BtZW50IGNvbmZpZycpO1xuXHR9XG59XG5cbi8vIEV4cG9ydCBlaXRoZXIgbG9jYWwgb3IgZGV2ZWxvcG1lbnQgY29uZmlnIGlmIE5PREVfRU5WID09PSAnZGV2ZWxvcG1lbnQnLCB0ZXN0IGNvbmZpZyBpZiBOT0RFX0VOViA9PT0gJ3Rlc3QnXG4vLyBvciBwcm9kdWN0aW9uIGNvbmZpZyBvdGhlcndpc2VcbmxldCBkeW5hbWljOklFbnZDb25maWc7XG5cbmlmIChlbnYgPT09ICdkZXZlbG9wbWVudCcpXG57XG5cdGR5bmFtaWMgPSBsb2NhbENvbmZpZy51c2UgPyBsb2NhbENvbmZpZyA6IGRldkNvbmZpZztcbn1cbmVsc2UgaWYgKGVudiA9PT0gJ3Rlc3QnKVxue1xuXHRkeW5hbWljID0gdGVzdENvbmZpZztcbn1cbmVsc2Vcbntcblx0ZHluYW1pYyA9IHByb2RDb25maWc7XG59XG5cbmV4cG9ydCBjb25zdCBDT05GSUcgPSA8SUVudkNvbmZpZz5fLm1lcmdlKGR5bmFtaWMsIHNoYXJlZENvbmZpZyk7XG4iXSwic291cmNlUm9vdCI6Ii9zb3VyY2UvIn0=
